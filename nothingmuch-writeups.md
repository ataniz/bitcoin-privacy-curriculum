[original writeup](https://gist.github.com/adamjonas/bc6302233d8278daa100b34e789993280)

[cleaned and condensed version](https://gist.github.com/nothingmuch/0ba650fcca7e8ce5181e56526dfdd0eb)